# PHP App ① レビュー

## 全般

### 以下のaタグのリンクを押下した際にedit.phpの$_GETにどんな値が格納されるか説明してください。

```html
<a href="edit.php?todo_id=123&todo_content=焼肉">更新</a>
```

回答：
$_GET = [
    'todo_id' => '123',
    'todo_content' => '焼肉'
];

$_GET ['todo_id' => '123']には、123の文字列が格納される。
$_GET ['todo_content' => '焼肉']には、焼肉という文字列が格納される。


### 以下のフォームの送信ボタンを押下した際にstore.phpの$_POSTにどんな値が格納されるか説明してください。

```html
<form action="store.php" method="post">
    <input type="text" name="id" value="123">
		<textarea　name="content">焼肉</textarea>
    <button type="submit">送信</button>
</form>
```

回答：
$_POST['id'] には <input> 要素から取得した値 123 が文字列として格納される
$_POST['content'] には <textarea> 要素から取得した値 焼肉 が文字列として格納される


### `require_once()` は何のために記述しているか説明してください。

回答：
ファイルを一度だげ読み込む為に使用される関数。
・ファイルの重複読み込みの防止
・指定したファイルの読み込みに失敗した場合、エラーが発生してスクリプトの実行が停止される。


### `savePostedData($post)`は何をしているか説明してください。

回答：
引数として渡された$postデータを保存する処理を実行する関数。


### `header('location: ./index.php')`は何をしているか説明してください。

回答：
ユーザーをindex.phpにリダイレクトするために使用される。
フォーム送信後にリダイレクトやエラー処理後に移動など、ユーザーのフローを制御するために使用される。


### `getRefererPath()`は何をしているか説明してください。

回答：
アクセスの参照元URLからパス部分を取得する関数で、$_SERVER['HTTP_REFERER'] を利用してその情報を解析する。
参照元の情報がない場合にはnullを返す。


### `connectPdo()` の返り値は何か、またこの記述は何をするための記述か説明してください。

回答：
返り値はPDOオブジェクトを返す。
・データベース接続の確立：PDOはPHPでデータベースに接続させる為の汎用的なインターフェイス。
・エラー処理の簡略化：connectPdo()内で接続時の例外処理を実装することで、データベース接続に失敗した場合のエラー処理を一元化できる。
・connectPdo()で適切な接続オプションを設定することで、SQLインジェクションや不適切なエラー処理を防ぐ。
・再利用性：アプリケーション内で複数の箇所でデータベース接続を必要とする場合、connectPdo()を呼び出すだけで、簡単に接続が確立できる。


### `try catch`とは何か説明してください。

例外が発生する可能性のある処理を安全に実行し、適切なエラーハンドリングを行う構文、コードの信頼性を高め、
エラー時のクラッシュを防ぐ重要な仕組み

レアーと例外の違い：エラーはプログラムで対処できない致命的な例外を指し、例外はプログラムで対処できる例外を指します。


### Pdoクラスをインスタンス化する際に`try catch`が必要な理由を説明してください。

回答：
・データベース接続エラーを捕捉して適切に対処する
・エラー内容を適切に記録し、ユーザーにわかりやすいメッセージを提供する
・セキュリティ上のリスクを軽減する
・プログラムの安定性を向上させる

アプリケーションの信頼性とセキュリティが向上し、予期しない障害に対しても柔軟に対応できるようになります。


## 新規作成

### `createTodoData($post)`は何をしているか説明してください。

回答：
フォームなどから送信されたToDoのデータを基に、新しいToDo項目を作成し保存する処理を行う関数

## 一覧

### `getTodoList()`の返り値について説明してください。

回答：
ToDoリストのデータ であり、データベースや他のストレージから取得された複数のToDo項目を格納した形式で返される。


### `<?= ?>`は何の省略形か説明してくだsさい。

回答：
<?php echo の省略形

## 更新

### `getSelectedTodo($_GET['id'])`の返り値は何か、またなぜ`$_GET['id']` を引数に渡すのか説明してください。

### `updateTodoData($post)`は何をしているか説明してください。

## 削除

### `deleteTodoData($id)`は何をしているか説明してください。

### `deleted_at`を現在時刻で更新すると一覧画面からToDoが非表示になる理由を説明してください。

### 今回のように実際のデータを削除せずに非表示にすることで削除されたように扱うことを〇〇削除というか。

### 実際にデータを削除することを〇〇削除というか。

### 前問のそれぞれの削除のメリット・デメリットについて説明してください。
